package project;

import project.recommendationandtroubleshooting.model.Configuration
import project.recommendationandtroubleshooting.model.input_model.recommendation.InputRecommendation;
import project.recommendationandtroubleshooting.model.input_model.recommendation.ConfigurationUsageType;
import project.recommendationandtroubleshooting.model.input_model.recommendation.ConfigurationCharacteristicType;
import project.recommendationandtroubleshooting.model.input_model.recommendation.Budget;
import project.recommendationandtroubleshooting.model.input_model.recommendation.Mobility;
import project.recommendationandtroubleshooting.model.input_model.recommendation.Output;

rule "Software Development" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "SoftwareDevelopment")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c1$: Configuration(CPU == "Intel® Core™ i3 Processor", RAM == "8GB DDR4 2666 MHz") from $configurations
        c2$: Configuration(CPU == "Intel® Core™ i5 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c1) { $c1.increaseScore(10) }
    	modify($c2) { $c2.increaseScore(5) }
end

rule "Editing" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "Editing")
        $o: Output(recommendedConfiguratio.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end

rule "Bookkeeping" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "Bookkeeping")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end

rule "3DDesign" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "3DDesign")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end

rule "AcademicPurposes" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "AcademicPurposes")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end

rule "Gaming" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "Gaming")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end

rule "PersonalUse" 
	agenda-group "usage-recommendation"
	salience (8) 
    when
        $i: InputRecommendation(configurationUsageType.getUsage() == "PersonalUse")
        $o: Output(recommendedConfiguration.isEmpty(), usage == null, characteristics == null, budget == "done", type == "done")
        $configurations: List() from collect(Configuration(considered == true))
        c$: Configuration(CPU = "Intel® Core™ i3 Processor") from $configurations
    then
    	modify($o) { setUsage("done") }
    	modify($c) { $c.increaseScore(10) }
end